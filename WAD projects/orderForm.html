<!DOCTYPE html>
<html>

<head>

    <script>
        fetch('http://localhost:3000/getVenue', {
                method: "POST", // *GET, POST, PUT, DELETE, etc.
                headers: {
                    "Content-Type": "application/json"
                },
                
            }).then((response) => {
                return response.json()
            }).then((response) => {
                
                if (response.status == 200) {
                    
                    console.log('record has been insert succuss', response.data)


                }
                else { // when error
                    console.log('record is not inserted Error: ', response.error)

                    alert(response.error.code)

                }
                // alert('Record has been insert successfully')
            }).catch((err) => {
                console.log('Error occured in insertion', err)
                // alert('Error in insertion')
            }) // parses response to JSON
            
            </script>

    <title>Client SignUp</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--===============================================================================================-->
    <link rel="icon" type="image/png" href="img/icons/favicon.ico" />
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/Linearicons-Free-v1.0.0/icon-font.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="css/lstyle.css">
    <!--===============================================================================================-->


</head>

<body>


    <div class="limiter">
        <div class="container-login" style="background-image: url('img/bg-02.jpg');">
            <div class="wrap-login p-l-110 p-r-110 p-t-62 p-b-33">
                <div class="login-form validate-form flex-sb flex-w">
                    <span class="login-form-title p-b-53">Order</span>


                    <div class="p-t-31 p-b-9">
                        <span class="txt1">Select venue</span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate="firstname is required">
                        
                        <select class="input100" class="form-control" id="v_name">
                                <option value="regent plaza">regent plaza: 100000RS per night</option>
                                <option value="Pearl continental">Pearl continental: 100000RS per night</option>
                                <option value="mehran hotel">mehran hotel: 100000RS per night</option>
                                <option value="shadi qila">shadi qila: 100000RS per night</option>
                              </select>
                        <span class="focus-input100"></span>
                    </div>

                    <div class="p-t-31 p-b-9">
                        <span class="txt1">How many people you want to host?</span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate="lastname is required">
                        <input class="input100" type="number" class="form-control" id="c_host" placeholder="Enter Host count">
                        <span class="focus-input100"></span>
                    </div>

                    <div class="p-t-31 p-b-9">
                            <span class="txt1">Date of event</span>
                        </div>
                    <div class="wrap-input100 validate-input" data-validate="date of birth is required">
                            <input class="input100" type="date" class="form-control"
                                    id="event_date" placeholder="">
                            <span class="focus-input100"></span>
                    </div>

                    <div class="p-t-31 p-b-9">
                        <span class="txt1">would you like to have food service as well</span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate="address is required">
                            <select class="input100" class="form-control" id="food_choice">
                                    <option value="regent plaza">yes</option>
                                    <option value="regent plaza">no</option>
                                  </select>
                        <span class="focus-input100"></span>
                    </div>
                   
                    <div class="container-login-form-btn m-t-17">
                        <button class="login-form-btn btn btn-primary btn-block" onclick="submitForm()">Confirm Order</button>
                    </div>

                </div>
            </div>
        </div>
    </div>


    <div id="dropDownSelect1"></div>

    <!--===============================================================================================-->

    <script src="js/main.js"></script>



    <!--================================================SOBAN SCRIPT======================================================-->




    <script>
        function submitForm() {
           
            var v_name = document.getElementById("v_name").value
            var c_host = document.getElementById("c_host").value
            var date_event = document.getElementById("event_date").value
            var food_choice = document.getElementById("food_choice").value

            var user_id=  localStorage.getItem('user_id')

            console.log(user_id);

            debugger
            var url = 'http://localhost:3000/orderForm'
            var data = {
                user_id,
                v_name,
                c_host,
                date_event,
                food_choice,
            }
            fetch(url, {
                method: "POST", // *GET, POST, PUT, DELETE, etc.
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data), // body data type must match "Content-Type" header
            }).then((response) => {
                return response.json()
            }).then((response) => {
                
                if (response.status == 200) {
                    
                    console.log('record has been insert succuss', response.data)

                    alert("you have successfuly added the venue");

                    window.location.href = "/index.html";

                }
                else { // when error
                    console.log('record is not inserted Error: ', response.error)

                    alert(response.error.code)

                }
                // alert('Record has been insert successfully')
            }).catch((err) => {
                console.log('Error occured in insertion', err)
                // alert('Error in insertion')
            }) // parses response to JSON
        }
    </script>



</body>

</html>